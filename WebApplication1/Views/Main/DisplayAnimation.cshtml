@{
        ViewBag.Title = "DisplayAnimation";
    }

    <div>
        <style id="map1">

            html, body {
                margin: 0;
                height: 100%;
                background-image: url(../../../Content/export-map-share.png);
                background-position: center;
                background-repeat: no-repeat;
                background-size: cover;
            }

            canvas {
                margin: 0;
                height: 100%;
                object-fit: cover;
                display: block;
                background-position: center;
                background-repeat: no-repeat;
                background-size: cover;
            }

            img {
                display: block;
                width: 100%;
                height: 100%;
                object-fit: cover;
            }

            div {
                position: relative;
            }

            .bluePoint {
                position: static;
                background: Blue;
                height: 16px;
                width: 16px;
                border-radius: 50%;
            }
        </style>

        <canvas id="myCanvas" style="border:1px solid black;">></canvas>
    </div>

    <script src="jquery-3.2.1.js"></script>
    <head>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
    </head>
    <script>
        var c = document.getElementById("myCanvas");
        var ctx = c.getContext("2d");
        c.width = window.innerWidth;
        c.height = window.innerHeight;
        var x1;
        var y1;
        var x2;
        var y2;
        var IntervalTime = @Session["freq"] * 1000
        Animation = (function () {
            $.post('@Url.Action("Main/GetPoint")').done(function (xml) {
                var xmlDoc = $.parseXML(xml),
                    $xml = $(xmlDoc),
                    lon = $xml.find("Lon").text;
                    qlat = $xml.find("Lat").text;
                    var c = document.getElementById("myCanvas");
                    var ctx = c.getContext("2d");
                     x2 = (lon + 180) * c.width / 360;
                     y2 = (lat + 90) * c.height / 180;
                    if (x1 != null) {
                        ctx.moveTo(x1, y1);
                        ctx.lineTo(x2, y2);
                        x1 = x2;
                        y1 = y2;
                    }
                    else {
                        x1 = x2;
                        y1 = y2;
                        ctx.arc(x1, y2, 5, 0, 2 * Math.PI);
                    }
            });
        });
        setInterval(Animation, IntervalTime);
        Animation();
    </script>

